<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" class="pt-10">
    <path fill="#ff5500" fill-opacity="1" d="M0,64L20,90.7C40,117,80,171,120,165.3C160,160,200,96,240,58.7C280,21,320,11,360,37.3C400,64,440,128,480,181.3C520,235,560,277,600,261.3C640,245,680,171,720,133.3C760,96,800,96,840,112C880,128,920,160,960,149.3C1000,139,1040,85,1080,69.3C1120,53,1160,75,1200,85.3C1240,96,1280,96,1320,128C1360,160,1400,224,1420,256L1440,288L1440,0L1420,0C1400,0,1360,0,1320,0C1280,0,1240,0,1200,0C1160,0,1120,0,1080,0C1040,0,1000,0,960,0C920,0,880,0,840,0C800,0,760,0,720,0C680,0,640,0,600,0C560,0,520,0,480,0C440,0,400,0,360,0C320,0,280,0,240,0C200,0,160,0,120,0C80,0,40,0,20,0L0,0Z"></path>
</svg>
<div class="container">
    <h1 class="mb-1">
        <%= article.title %>
    </h1>
    <% if (author !== "Deleted User") { %>
        <small class="text-muted">By <strong><a href="/users/<%= slugify(author) %>"><%= author %></a></strong></small></p>
    <% }else { %>
        <small class="text-muted">By <strong><%= author %></strong></small></p>
    <% } %>
    <div class="text-muted mb-2">
        <%= article.createdAt.toLocaleDateString() %>
    </div>
    <div class="mt-4 mb-4">
        <%- article.sanitizedHTML %>
    </div>
    <h6 class="text-muted">Views: <%= article.views %></h6>
    <button onclick="copy('<%= link %>')" class="btn btn-primary" id="share-btn">Share</button>
    <a href="/articles" class="btn btn-secondary">All articles</a>
    <% if (user && article.author === user.uid) { %>
        <a href="/articles/edit/<%= article.id %>" class="btn btn-info">Edit</a>
    <% } %>
</div>
<script>
    async function copy(link){
        await navigator.clipboard.writeText(link)
        document.getElementById('share-btn').innerHTML = "Link Copied!"
        setTimeout(() => {
            document.getElementById('share-btn').innerHTML = "Share"
        }, 1000);
    }
</script>
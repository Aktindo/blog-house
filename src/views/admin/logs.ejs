<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" class="pt-10">
    <path fill="#ff5500" fill-opacity="1" d="M0,64L20,90.7C40,117,80,171,120,165.3C160,160,200,96,240,58.7C280,21,320,11,360,37.3C400,64,440,128,480,181.3C520,235,560,277,600,261.3C640,245,680,171,720,133.3C760,96,800,96,840,112C880,128,920,160,960,149.3C1000,139,1040,85,1080,69.3C1120,53,1160,75,1200,85.3C1240,96,1280,96,1320,128C1360,160,1400,224,1420,256L1440,288L1440,0L1420,0C1400,0,1360,0,1320,0C1280,0,1240,0,1200,0C1160,0,1120,0,1080,0C1040,0,1000,0,960,0C920,0,880,0,840,0C800,0,760,0,720,0C680,0,640,0,600,0C560,0,520,0,480,0C440,0,400,0,360,0C320,0,280,0,240,0C200,0,160,0,120,0C80,0,40,0,20,0L0,0Z"></path>
</svg>
<div class="container">
    <div class="btn-group d-flex justify-content-center" role="group" aria-label="Basic outlined example">
        <button type="button" class="btn btn-outline-primary" onclick="showMod()">Moderation Logs</button>
        <button type="button" class="btn btn-outline-primary" onclick="showPost()">Article Logs</button>
        <button type="button" class="btn btn-outline-primary" onclick="showUser()">User Logs</button>
    </div>
    <div id="mod" class="hidden">
        <h4 class="text-muted pb-5 pt-5">Mod Logs</h4>
        <% if (mod.length > 0) { %>
            <% for (let i = 0; i < mod.length; i++) { %>
                <div class="card mt-4">
                    <div class="card-body">
                        <h4 class="card-title"><%= mod[i].actionType %></h4>
                        <div class="card-subtitle text-muted mb-2">
                            <%= moment.utc(mod[i].at).format("dddd, MMMM Do YYYY") %>
                        </div>
                        <div class="card-text mb-2">
                            <h5>Action performed by: <img src="<%= mod[i].by.avatar %>" alt="avatar" width="50" height="50" class="inline-block align-middle" style="border-radius: 50%;"><%= mod[i].by.name %></h5>
                        </div>
                        <div class="card-text mb-2">
                            <h5>Action performed on: <img src="<%= mod[i].onUser.avatar %>" alt="avatar" width="50" height="50" class="inline-block align-middle" style="border-radius: 50%;"><%= mod[i].onUser.name %></h5>
                        </div>
                        <div class="card-text mb-2">
                            <h5>Reason: <%= mod[i].reason || 'None' %></h5>
                        </div>
                        <% if (user.uid === "53062997918043") { %>
                            <div class="card-text mb-2">
                                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">Delete</button>
                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                  <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to delete this log?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                      <div class="modal-body">
                                        This action cannot be undone
                                      </div>
                                      <div class="modal-footer">
                                          <form action="/admin/logs/delete/<%= mod[i].id %>?_method=DELETE" method="POST">
                                              <button type="submit" class="btn btn-danger">Yes</button>
                                          </form>
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        <% } %>
                    </div>
                </div>
            <% } %>
        <% }else { %>
            <img src="../../public/emojis/cricket.svg" alt="cricket" width="300" height="300" class="mx-auto">
            <div class="text-center">
                <h1>*Cricket noises*</h1>
                <br>
                <h2>There aren't any moderation logs on record</h2>
            </div>
        <% } %>
    </div>
    <div id="post" class="hidden">
        <h4 class="text-muted pb-5 pt-5">Post Logs</h4>
        <% if (post.length > 0) { %>
            <% for (let i = 0; i < post.length; i++) { %>
                <div class="card mt-4">
                    <div class="card-body">
                        <h4 class="card-title"><%= post[i].actionType %></h4>
                        <div class="card-subtitle text-muted mb-2">
                            <%= moment.utc(post[i].at).format("dddd, MMMM Do YYYY") %>
                        </div>
                        <div class="card-text mb-2">
                            <h5>Action performed by: <img src="<%= post[i].by.avatar %>" alt="avatar" width="50" height="50" class="inline-block align-middle" style="border-radius: 50%;"><%= post[i].by.name %></h5>
                        </div>
                        <div class="card-text mb-2">
                            <% if (post[i].actionType === "Post New") { %>
                                <h5>Action performed: Created <a href="/articles/<%= slugify(post[i].reason) %>"><%= post[i].reason %></a></h5>
                            <% } else { %>
                                <h5>Action performed: Edited <a href="/articles/<%= slugify(post[i].reason) %>"><%= post[i].reason %></a></h5>
                            <% } %>
                        </div>
                        <% if (user.uid === "53062997918043") { %>
                            <div class="card-text mb-2">
                                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">Delete</button>
                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                  <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to delete this log?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                      <div class="modal-body">
                                        This action cannot be undone
                                      </div>
                                      <div class="modal-footer">
                                          <form action="/admin/logs/delete/<%= post[i].id %>?_method=DELETE" method="POST">
                                              <button type="submit" class="btn btn-danger">Yes</button>
                                          </form>
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        <% } %>
                    </div>
                </div>
            <% } %>
        <% }else { %>
            <img src="../../public/emojis/cricket.svg" alt="cricket" width="300" height="300" class="mx-auto">
            <div class="text-center">
                <h1>*Cricket noises*</h1>
                <br>
                <h2>There aren't any post logs on record</h2>
            </div>
        <% } %>
    </div>
    <div id="user" class="hidden">
        <h4 class="text-muted pb-5 pt-5">User Logs</h4>
        <% if (userD.length > 0) { %>
            <% for (let i = 0; i < userD.length; i++) { %>
                <div class="card mt-4">
                    <div class="card-body">
                        <h4 class="card-title"><%= userD[i].actionType %></h4>
                        <div class="card-subtitle text-muted mb-2">
                            <%= moment.utc(userD[i].at).format("dddd, MMMM Do YYYY") %>
                        </div>
                        <div class="card-text mb-2">
                            <h5>Action performed by: <img src="<%= userD[i].by.avatar %>" alt="avatar" width="50" height="50" class="inline-block align-middle" style="border-radius: 50%;"><%= userD[i].by.name %></h5>
                        </div>
                        <div class="card-text mb-2">
                            <h5>Action performed on: <img src="<%= userD[i].onUser.avatar %>" alt="avatar" width="50" height="50" class="inline-block align-middle" style="border-radius: 50%;"><%= userD[i].onUser.name %></h5>
                        </div>
                        <% if (user.uid === "53062997918043") { %>
                            <div class="card-text mb-2">
                                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">Delete</button>
                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                  <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to delete this log?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                      <div class="modal-body">
                                        This action cannot be undone
                                      </div>
                                      <div class="modal-footer">
                                          <form action="/admin/logs/delete/<%= userD[i].id %>?_method=DELETE" method="POST">
                                              <button type="submit" class="btn btn-danger">Yes</button>
                                          </form>
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        <% } %>
                    </div>
                </div>
            <% } %>
        <% }else { %>
            <img src="../../public/emojis/cricket.svg" alt="cricket" width="300" height="300" class="mx-auto">
            <div class="text-center">
                <h1>*Cricket noises*</h1>
                <br>
                <h2>There aren't any user logs on record</h2>
            </div>
        <% } %>
    </div>
</div>
<script>
    function showMod() {
        
        const modDiv = document.getElementById("mod");
        if (modDiv.style.display === "block") {
            modDiv.style.display = "none";
        } else {
            modDiv.style.display = "block";
        }

    }
    function showPost() {

        const postDiv = document.getElementById("post");
        if (postDiv.style.display === "block") {
            postDiv.style.display = "none";
        } else {
            postDiv.style.display = "block";
        }

    }
    function showUser() {

        const userDiv = document.getElementById("user");
        if (userDiv.style.display === "block") {
            userDiv.style.display = "none";
        } else {
            userDiv.style.display = "block";
        }

    }
</script>
<style>
    a { text-decoration: none; }
</style>